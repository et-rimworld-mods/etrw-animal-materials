<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!--
    Wool should be more flammable than leather.
    Wool is also typically more flame-resistant than cotton, so the 1.7 in the base game is probably a typo for the stuffprops...
    -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[@Name="WoolBase"]/statBases/Flammability</xpath>
        <value>
            <Flammability>0.6</Flammability>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[@Name="WoolBase"]/stuffProps/statFactors/Flammability</xpath>
        <value>
            <Flammability>0.6</Flammability>
        </value>
    </Operation>


    <!-- "Remove" megasloth wool. -->
    <Operation Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="Megasloth"]/comps/li[@Class='CompProperties_Shearable']</xpath>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="WoolMegasloth"]/stuffProps</xpath>
        <value>
            <commonality>0.0</commonality>
        </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="WoolMegasloth"]</xpath>
        <value>
            <tradeability>None</tradeability>
        </value>
    </Operation>

    <Operation Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[@Name="WoolBase"]/stuffProps/categories</xpath>
    </Operation>

    <Operation Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[@Name="WoolBase"]/thingCategories</xpath>
    </Operation>


    <!-- Other wools: Put back recipe and stockpile categories, and adjust commonality, after the megasloth removal. -->
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="WoolCamel" or defName="WoolAlpaca" or defName="WoolMuffalo"]/stuffProps</xpath>
        <value>
            <categories>
                <li>Fabric</li>
            </categories>
        </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="WoolCamel" or defName="WoolAlpaca" or defName="WoolMuffalo"]</xpath>
        <value>
            <thingCategories>
                <li>Textiles</li>
            </thingCategories>
        </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="WoolCamel" or defName="WoolAlpaca" or defName="WoolMuffalo"]/stuffProps</xpath>
        <value>
            <commonality>0.16</commonality>
        </value>
    </Operation>
</Patch>
